<!DOCTYPE html>
<html lang="en">
  <head>
    {% load static %}
    <link rel="stylesheet" href="{% static 'calc/style.css' %}" />
    <link
      rel="shortcut icon"
      type="image/png"
      href="{% static 'calc/images/adaCalc.png' %}"
    />
    <link
      href="https://cdn.jsdelivr.net/npm/bootstrap@5.0.2/dist/css/bootstrap.min.css"
      rel="stylesheet"
      integrity="sha384-EVSTQN3/azprG1Anm3QDgpJLIm9Nao0Yz1ztcQTwFspd3yD65VohhpuuCOmLASjC"
      crossorigin="anonymous"
    />
    <script
      src="https://cdn.jsdelivr.net/npm/bootstrap@5.0.2/dist/js/bootstrap.bundle.min.js"
      integrity="sha384-MrcW6ZMFYlzcLA8Nl+NtUVF0sA7MsXsP1UyJoMp4YLEuNSfAP+JcXn/tWtIaxVXM"
      crossorigin="anonymous"
    ></script>

    <script src="{% static 'calc/fireworks.js' %}"></script>

    <script>
      document.addEventListener("DOMContentLoaded", function (event) {

        const container = document.querySelector(".fireworks-example");
        const fireworks = new Fireworks(container, {
          rocketsPoint: 50,
          hue: { min: 0, max: 360 },
          delay: { min: 15, max: 30 },
          speed: 2,
          acceleration: 1.05,
          friction: 0.95,
          gravity: 1.5,
          particles: 50,
          trace: 3,
          explosion: 5,
          autoresize: true,
          brightness: {
            min: 50,
            max: 80,
            decay: { min: 0.015, max: 0.03 },
          },
          mouse: {
            click: false,
            move: false,
            max: 3,
          },
          boundaries: {
            x: 50,
            y: 50,
            width: container.clientWidth,
            height: container.clientHeight,
          },
        });

        fireworks.start();
        
      });

      // Set the date we're counting down to
      var countDownDate = new Date("{{ timeUntil }} 00:00:00 GMT-0600").getTime(); //new Date("Jan 5, 2022 15:37:25").getTime();

      // Update the count down every 1 second
      var x = setInterval(function () {
        // Get today's date and time
        var now = new Date().getTime();

        // Find the distance between now and the count down date
        var distance = countDownDate - now;

        // Time calculations for days, hours, minutes and seconds
        var days = Math.floor(distance / (1000 * 60 * 60 * 24));
        var hours = Math.floor(
        (distance % (1000 * 60 * 60 * 24)) / (1000 * 60 * 60)
        );
        var minutes = Math.floor((distance % (1000 * 60 * 60)) / (1000 * 60));
        var seconds = Math.floor((distance % (1000 * 60)) / 1000);

        // Display the result in the element with id="demo"
        document.getElementById("demo").innerHTML = days + "d " + hours + "h " + minutes + "m " + seconds + "s";

        // If the count down is finished, write some text
        if (distance < 0) {
        clearInterval(x);
        document.getElementById("demo").innerHTML = "EXPIRED, Refresh Page!";
        }

      }, 1000);

    </script>

    <title>Cardano Gainz!</title>
  </head>

  <nav class="navbar navbar-light bg-light">
    <div class="container-fluid">
      <a class="navbar-brand" href="{% url 'index' %}">
        <img
          src="{% static 'calc/images/cardano.png' %}"
          alt=""
          height="60"
          class="d-inline-block align-text-center"
        />
        Calculate Your ADA Gainz!
      </a>
      <a href="{% url 'index' %}">
        <button type="button" class="btn btn-primary btn-sm">
          <img
            src="{% static 'calc/images/Back.png' %}"
            alt=""
            height="20"
            class="d-inline-block align-text-center"
          />
          Back to Gainz!
        </button>
      </a>
    </div>
  </nav>

  <body>
    <div id="MainBody">{% block calc %} {% endblock %}</div>
  </body>

  <footer class="footer mb-4">
    <div class="container">
      <span class="text-muted"
        >Created by
        <a href="https://twitter.com/lesquive1" style="text-decoration: none"
          >@lesquive1</a
        ></span>
      <br /><span class="text-muted"
        >Help us be better:
        <a href="https://github.com/lesquive/cardanogainz.com.git"
          ><img
            src="{% static 'calc/images/GitHub-Mark-32px.png' %}"
            alt=""
            height="20"
            class="d-inline-block align-text-center"
        /></a>
      </span>
    </div>
  </footer>
</html>
